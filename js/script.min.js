!function(){var r=document.querySelector("body"),s=r.querySelector(".page-wrapper--index"),c=document.querySelectorAll(".promo-slider__item"),d=document.querySelectorAll(".promo-slider__control"),n=["#849d8f","#8996a6","#9d8b84"],i=0;if(a(i),d)for(var e=0;e<d.length;e++)o(e);function o(o){d[o].addEventListener("click",function(e){e.preventDefault(),a(i=o)})}function a(e){e>c.length-1&&(i=0),e<0&&(i=c.length-1);for(var o=0;o<c.length;o++){var a=c[o];a.classList.contains("promo-slider__item--current")&&a.classList.remove("promo-slider__item--current")}for(var t=0;t<d.length;t++){var l=d[t];l.classList.contains("promo-slider__control--current")&&l.classList.remove("promo-slider__control--current")}c[i].classList.add("promo-slider__item--current"),d[i].classList.add("promo-slider__control--current"),r.style.backgroundColor=n[i],r.style.transition="background-color 0.5s",s.style.backgroundImage='url("./img/slider-bg-'+(i+1)+'.png")'}var t=document.querySelector(".contacts__btn"),l=document.querySelector(".modal-feedback"),u=l.querySelector(".modal-feedback__form"),m=l.querySelector(".modal-close"),v=document.querySelector(".modal-overlay");if(l){var f=u.querySelector("#user-name-feedback"),k=u.querySelector("#email-feedback"),L=u.querySelector("#message-feedback"),b=localStorage.getItem("userNameFeedback"),y=localStorage.getItem("emailFeedback");t.addEventListener("click",function(e){e.preventDefault(),l.classList.contains("modal-feedback--shown")||v.classList.contains("modal-overlay--shown")||(l.classList.add("modal-feedback--shown"),v.classList.add("modal-overlay--shown"),b&&!y?(f.value=b,k.focus()):b&&y?(f.value=b,k.value=y,L.focus()):f.focus())}),u.addEventListener("submit",function(){(f.value||k.value||L.value)&&(localStorage.setItem("userNameFeedback",f.value),localStorage.setItem("emailFeedback",k.value)),f.value&&k.value&&L.value||(event.preventDefault(),l.classList.remove("modal-feedback--error"),l.offsetWidth=l.offsetWidth,l.classList.add("modal-feedback--error"))}),m.addEventListener("click",function(e){e.preventDefault(),g()}),v.addEventListener("click",function(){g()}),window.addEventListener("keydown",function(e){27===e.keyCode&&g()})}function g(){l.classList.contains("modal-feedback--shown")&&v.classList.contains("modal-overlay--shown")&&(l.classList.remove("modal-feedback--shown"),l.classList.add("modal-feedback--hidden"),v.classList.remove("modal-overlay--shown"),v.classList.add("modal-overlay--hidden"),setTimeout(function(){l.classList.remove("modal-feedback--hidden"),v.classList.remove("modal-overlay--hidden")},450))}}();