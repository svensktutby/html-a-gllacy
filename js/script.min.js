!function(){var r=document.querySelector("body"),l=r.querySelector(".page-wrapper--index"),c=document.querySelectorAll(".promo-slider__item"),s=document.querySelectorAll(".promo-slider__control"),n=["#849d8f","#8996a6","#9d8b84"],d=0;if(t(d),s)for(var e=0;e<s.length;e++)o(e);function o(o){s[o].addEventListener("click",function(e){e.preventDefault(),t(d=o)})}function t(e){e>c.length-1&&(d=0),e<0&&(d=t.length-1);for(var o=0;o<c.length;o++){var t=c[o];t.classList.contains("promo-slider__item--current")&&t.classList.remove("promo-slider__item--current")}for(o=0;o<s.length;o++){var a=s[o];a.classList.contains("promo-slider__control--current")&&a.classList.remove("promo-slider__control--current")}c[d].classList.add("promo-slider__item--current"),s[d].classList.add("promo-slider__control--current"),r.style.backgroundColor=n[d],r.style.transition="background-color 0.5s",l.style.backgroundImage='url("./img/slider-bg-'+(d+1)+'.png")'}var a=document.querySelector(".contacts__btn"),i=document.querySelector(".modal-feedback"),u=i.querySelector(".modal-close"),m=document.querySelector(".modal-overlay");if(i){var v=i.querySelector(".modal-feedback__form"),f=v.querySelector("#user-name-feedback"),y=v.querySelector("#email-feedback"),k=v.querySelector("#message-feedback"),b=localStorage.getItem("userNameFeedback"),g=localStorage.getItem("emailFeedback");a.addEventListener("click",function(e){event.preventDefault(),i.classList.contains("modal-feedback--show")||m.classList.contains("modal-overlay--show")||(i.classList.add("modal-feedback--show"),m.classList.add("modal-overlay--show"),b&&!g?(f.value=b,y.focus()):b&&g?(f.value=b,y.value=g,k.focus()):f.focus())}),v.addEventListener("submit",function(e){(f.value||y.value||k.value)&&(localStorage.setItem("userNameFeedback",f.value),localStorage.setItem("emailFeedback",y.value))}),u.addEventListener("click",function(e){L()}),m.addEventListener("click",function(e){L()}),window.addEventListener("keydown",function(e){27===e.keyCode&&L()})}function L(){event.preventDefault(),i.classList.contains("modal-feedback--show")&&m.classList.contains("modal-overlay--show")&&(i.classList.remove("modal-feedback--show"),m.classList.remove("modal-overlay--show"))}}();